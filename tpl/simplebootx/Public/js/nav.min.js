/*! dev.egret.com - v1.0.0 - 2016-08-23 */$(document).ready(function(){loginBar.initNavBar(),loginOutBar.initNavBar(),expBar.initNavBar()});var navBar=function(a,b,c,d,e,f,g){this.top="nav",this.dropdown=".dropdown",this.liClass="."+a,this.subNavClass="."+b,this.minListLength=c,this.subHeight=e,this.subWidth=d,this.subLiClass="."+g,this.display=0,this.mobileMenu=0,this.animation=f,this.winWidth=$(window).width(),this.navColls=928};navBar.prototype.initNavBar=function(){this.winWidth=$(window).width();var a=this;$(this.top).find(a.liClass).find(this.subNavClass).hide(),a.winWidth<a.navColls?$(this.liClass+this.dropdown+">a").on("click",function(b){a.onCLick(b,this,a)}):($(this.liClass+this.dropdown).mouseenter(function(b){a.onMouseEnter(b,this,a)}),$(this.liClass+this.dropdown).mouseover(function(b){a.onMouseEnter(b,this,a)}),$(this.liClass+this.dropdown).mouseleave(function(b){a.onMouseLeave(b,this,a)}))},navBar.prototype.onCLick=function(a,b){var c=this;a.currentTarget;$(c.top).find(c.liClass).find(c.subNavClass).toggle();var d=c.subWidth,e=18;$(c.top).find(c.liClass).find(c.subNavClass).each(function(a){var b=this,f=($(b).find(c.subLiClass).length,d);$(b).css({width:f,left:e})}),a.stopPropagation(),a.preventDefault()},navBar.prototype.onMouseLeave=function(a,b){var c=this;b!==a.target&&(c.animation?$(b).find(c.subNavClass).css({height:0,"border-top-width":0}):$(b).find(c.subNavClass).hide()),this.display=0},navBar.prototype.onMouseEnter=function(a,b){var c=this;c.animation&&$(c.top).find(c.liClass).find(c.subNavClass).css({height:(c.minListLength+1)*c.subHeight,"border-top-width":"1px"}),$(c.top).find(c.liClass).find(c.subNavClass).show();var d=c.subWidth,e=0;$(c.top).find(c.liClass).find(c.subNavClass).each(function(a){var b=this,f=$(b).find(c.subLiClass).length,g=c.winWidth<c.navColls?d:Math.ceil(f/c.minListLength)*d;$(b).css({width:g,left:e}),c.winWidth<c.navColls?e=0:e+=g}),this.display=1},navBar.prototype.getList=function(a){a=a||{};var b=document.createElement("li");a.liClass?$(b).addClass(a.liClass):$(b).addClass(this.liClass.slice(1));var c=document.createElement("a"),d=document.createElement("span");return $(c).addClass("subMenuLink"),a.text&&$(c).text(a.text),a.link&&$(c).attr("href",a.link),a.listIcon&&($(d).addClass(a.listIcon),$(c).append(d)),$(b).append(c),b};var expBar=new navBar("expBox","subnav-products",4,100,50,(!1),"productBox");if($(window).width()<928)var docbarSubWidth=200;else var docbarSubWidth=200;var bar=new navBar("productBox","subnav-products",4,docbarSubWidth,50,(!1),"productBox"),loginBar=new navBar("logintBox","subnav-login",4,100,50,(!1),"logintBox"),loginOutBar=new navBar("logintOutBox","subnav-login-out",4,150,50,(!1),"logintOutBox");!function(){$(".productBox>a").each(function(a){var b="/cn/github/egret-docs/config/index.json";if("文档"==$(this).text()){var c=this;$.ajax({type:"GET",url:"http://"+window.location.host+b,data:"",success:function(a){for(var b="/cn/github/egret-docs/",d=0;d<a.length;d++){if(a[d].children){var e=bar.getList({text:a[d].text,link:"",liClass:"titleBox"}),f=a[d].children;$(c).parent().addClass("dropdown");var g=$(c).parent(),h=document.createElement("ul");$(h).addClass("subnav subnav-products flex"),$(g).append(h);var i=0;$(h).append(e);for(var j in f)if("true"==f[j].in_use){var k=f[j].filename.split("."),l=bar.getList({text:f[j].text,link:"http://"+window.location.host+b+k[0]+"/index.html?home=1",listIcon:k[0]});$(h).append(l),i++}for(var m=(bar.minListLength-i%bar.minListLength)%bar.minListLength,j=0;j<m;j++){var n=bar.getList();$(h).append(n)}$(e).css({width:Math.ceil(f.length/bar.minListLength)*bar.subWidth})}i=0}bar.initNavBar()},dataType:"json"})}}),bar.winWidth<bar.navColls&&($(".media-clear-pull").removeClass("pull-right"),$(".media-clear-pull").removeClass("pull-left"))}();